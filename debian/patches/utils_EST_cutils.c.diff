This patch is part of a series of patches for speech-tools for
Debian GNU/Linux, which primarily fix build errors with GCC 4.3 and newer.

Index: speech-tools/utils/EST_cutils.c
===================================================================
--- speech-tools.orig/utils/EST_cutils.c	2009-02-21 14:20:05.000000000 -0600
+++ speech-tools/utils/EST_cutils.c	2009-03-17 09:03:29.000000000 -0500
@@ -54,12 +54,19 @@
 #ifdef ESTLIBDIRC
 #    define ESTLIBDIR STRINGIZE(ESTLIBDIRC)
 #endif
-
 #ifndef ESTLIBDIR
 #define ESTLIBDIR "/usr/local/lib/speech_tools"
 #endif
 
+#ifdef ESTDATADIRC
+#    define ESTDATADIR STRINGIZE(ESTDATADIRC)
+#endif
+#ifndef ESTDATADIR
+#define ESTDATADIR "/usr/local/share/speech_tools"
+#endif
+
 const char * const est_libdir = ESTLIBDIR;
+const char * const est_datadir = ESTDATADIR;
 
 const char * const est_ostype = STRINGIZE(ESTOSTYPE);
 
@@ -71,8 +78,8 @@
     char *t1;
     int i,j;
 
-    if (((tdir=getenv("TMPDIR")) == NULL) ||
-	((tdir=getenv("TEMP")) == NULL) ||
+    if (((tdir=getenv("TMPDIR")) == NULL) &&
+	((tdir=getenv("TEMP")) == NULL) &&
 	((tdir=getenv("TMP")) == NULL))
 	tdir = "/tmp";
     
